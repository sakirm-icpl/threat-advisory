{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useQuery}from'react-query';import{Link}from'react-router-dom';import{endpoints}from'../services/api';import{BuildingOfficeIcon,CubeIcon,MagnifyingGlassIcon,DocumentTextIcon,PlusIcon}from'@heroicons/react/24/outline';import{BarChart,Bar,XAxis,YAxis,Tooltip,ResponsiveContainer,CartesianGrid,LabelList}from'recharts';import{PieChart,Pie,Cell,LineChart,Line,Legend}from'recharts';import{useAuth}from'../hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function formatDate(dateString){if(!dateString)return'';const date=new Date(dateString);return date.toLocaleString();}const WIDGETS=[{key:'productsPerVendor',label:'Products per Vendor'},{key:'methodsPerProduct',label:'Detection Methods per Product'},{key:'setupGuideCoverage',label:'Setup Guide Coverage'},{key:'recentTrends',label:'Recent Trends'},{key:'userRegistrations',label:'User Registrations'}];function getInitialWidgetPrefs(){const saved=localStorage.getItem('dashboardWidgets');if(saved)return JSON.parse(saved);return Object.fromEntries(WIDGETS.map(w=>[w.key,true]));}export default function Dashboard(){var _summary$data$vendors,_summary$data,_summary$data$product,_summary$data2,_summary$data$detecti,_summary$data3,_summary$data$setup_g,_summary$data4;const{user}=useAuth();const{data:summary}=useQuery('dashboard-summary',endpoints.getDashboardSummary,{refetchInterval:5000});const{data:activityData,isLoading:activityLoading,error:activityError}=useQuery('recent-activity',()=>endpoints.getRecentActivity().then(res=>res.data));const activities=(activityData===null||activityData===void 0?void 0:activityData.activities)||[];// Fetch vendors and products for the chart\nconst[vendors,setVendors]=useState([]);const[products,setProducts]=useState([]);const[methods,setMethods]=useState([]);const[users,setUsers]=useState([]);const[guides,setGuides]=useState([]);const[fetchError,setFetchError]=useState(null);useEffect(()=>{let interval;const fetchData=async()=>{try{setFetchError(null);const promises=[endpoints.getVendors().then(res=>res.data),endpoints.getProducts().then(res=>res.data),endpoints.getMethods().then(res=>res.data),endpoints.getSetupGuides().then(res=>res.data)];// Only fetch users if admin\nif(user&&user.role==='admin'){promises.push(endpoints.getUsers().then(res=>res.data).catch(err=>{// If unauthorized, treat as empty users\nif(err.response&&(err.response.status===401||err.response.status===403)){return[];}throw err;}));}const[v,p,m,g,u]=await Promise.all(promises);setVendors(v);setProducts(p);setMethods(m);setGuides(g);if(user&&user.role==='admin'){setUsers(u);}else{setUsers([]);}}catch(error){console.error('Dashboard data fetch error:',error);setFetchError(error.message||'Failed to fetch dashboard data');}};fetchData();interval=setInterval(fetchData,5000);return()=>clearInterval(interval);},[user]);// Aggregate products per vendor\nconst productsPerVendor=vendors.map(vendor=>({name:vendor.name,count:products.filter(p=>p.vendor_id===vendor.id).length}));// Aggregate detection methods per product\nconst methodsPerProduct=products.map(product=>({name:product.name,count:methods.filter(m=>m.product_id===product.id).length}));// Setup Guide Coverage - Fixed to use guides data instead of assuming products have setup_guides\nconst productsWithGuides=products.filter(product=>guides.some(guide=>guide.product_id===product.id)).length;const productsWithoutGuides=products.length-productsWithGuides;const setupGuideCoverageData=[{name:'With Setup Guide',value:productsWithGuides},{name:'Without Setup Guide',value:productsWithoutGuides}];// Recent Trends: new products, methods, guides per week (last 8 weeks)\nfunction getWeek(date){if(!date)return'';const d=new Date(date);const year=d.getFullYear();const week=Math.ceil(((d-new Date(year,0,1))/86400000+new Date(year,0,1).getDay()+1)/7);return`${year}-W${week}`;}const now=new Date();const weeks=Array.from({length:8},(_,i)=>{const d=new Date(now);d.setDate(d.getDate()-7*(7-i));const year=d.getFullYear();const week=Math.ceil(((d-new Date(year,0,1))/86400000+new Date(year,0,1).getDay()+1)/7);return`${year}-W${week}`;});function countByWeek(arr,dateKey){const counts={};arr.forEach(item=>{if(item&&item[dateKey]){const week=getWeek(item[dateKey]);if(week){counts[week]=(counts[week]||0)+1;}}});return counts;}const productCounts=countByWeek(products,'created_at');const methodCounts=countByWeek(methods,'created_at');const guideCounts=countByWeek(guides,'created_at');const trendsData=weeks.map(week=>({week,Products:productCounts[week]||0,Methods:methodCounts[week]||0,Guides:guideCounts[week]||0}));// User registrations per week\nconst userCounts=countByWeek(users,'created_at');const userTrendsData=weeks.map(week=>({week,Users:userCounts[week]||0}));const stats=[{name:'Vendors',value:(_summary$data$vendors=summary===null||summary===void 0?void 0:(_summary$data=summary.data)===null||_summary$data===void 0?void 0:_summary$data.vendors)!==null&&_summary$data$vendors!==void 0?_summary$data$vendors:0,icon:BuildingOfficeIcon,href:'/vendors',color:'bg-blue-500'},{name:'Products',value:(_summary$data$product=summary===null||summary===void 0?void 0:(_summary$data2=summary.data)===null||_summary$data2===void 0?void 0:_summary$data2.products)!==null&&_summary$data$product!==void 0?_summary$data$product:0,icon:CubeIcon,href:'/products',color:'bg-green-500'},{name:'Detection Methods',value:(_summary$data$detecti=summary===null||summary===void 0?void 0:(_summary$data3=summary.data)===null||_summary$data3===void 0?void 0:_summary$data3.detection_methods)!==null&&_summary$data$detecti!==void 0?_summary$data$detecti:0,icon:MagnifyingGlassIcon,href:'/methods',color:'bg-purple-500'},{name:'Setup Guides',value:(_summary$data$setup_g=summary===null||summary===void 0?void 0:(_summary$data4=summary.data)===null||_summary$data4===void 0?void 0:_summary$data4.setup_guides)!==null&&_summary$data$setup_g!==void 0?_summary$data$setup_g:0,icon:DocumentTextIcon,href:'/setup-guides',color:'bg-orange-500'}];const quickActions=[{name:'Add Vendor',href:'/vendors',icon:PlusIcon,description:'Create a new vendor'},{name:'Add Product',href:'/products',icon:PlusIcon,description:'Add a new product'},{name:'Add Detection Method',href:'/methods',icon:PlusIcon,description:'Create detection logic'},{name:'Search',href:'/search',icon:MagnifyingGlassIcon,description:'Search across all data'}];const[widgetPrefs,setWidgetPrefs]=useState(getInitialWidgetPrefs());const handleWidgetToggle=key=>{setWidgetPrefs(prev=>{const updated={...prev,[key]:!prev[key]};localStorage.setItem('dashboardWidgets',JSON.stringify(updated));return updated;});};// Show error message if there's a fetch error\nif(fetchError){return/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:\"Dashboard Data Error\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-red-700\",children:[/*#__PURE__*/_jsx(\"p\",{children:fetchError}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1\",children:\"The dashboard will retry automatically in 30 seconds.\"})]})]})]})})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Welcome to VersionIntel - Version Detection Research Platform\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 my-4 items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-700\",children:\"Show/Hide Widgets:\"}),WIDGETS.map(w=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-1 text-sm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:widgetPrefs[w.key],onChange:()=>handleWidgetToggle(w.key),className:\"accent-blue-600\"}),w.label]},w.key))]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\",children:stats.map(stat=>/*#__PURE__*/_jsx(Link,{to:stat.href,className:\"card hover:shadow-lg transition-shadow duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`flex-shrink-0 ${stat.color} rounded-md p-3`,children:/*#__PURE__*/_jsx(stat.icon,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:stat.name}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:stat.value})]})})]})},stat.name))}),widgetPrefs.productsPerVendor&&/*#__PURE__*/_jsxs(\"div\",{className:\"my-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Products per Vendor\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border p-4\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:productsPerVendor,margin:{top:20,right:30,left:0,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",angle:-20,textAnchor:\"end\",interval:0,height:60}),/*#__PURE__*/_jsx(YAxis,{allowDecimals:false}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:\"#2563eb\",children:/*#__PURE__*/_jsx(LabelList,{dataKey:\"count\",position:\"top\"})})]})})})]}),widgetPrefs.methodsPerProduct&&/*#__PURE__*/_jsxs(\"div\",{className:\"my-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Detection Methods per Product\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border p-4\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:methodsPerProduct,margin:{top:20,right:30,left:0,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",angle:-20,textAnchor:\"end\",interval:0,height:60}),/*#__PURE__*/_jsx(YAxis,{allowDecimals:false}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:\"#f59e42\",children:/*#__PURE__*/_jsx(LabelList,{dataKey:\"count\",position:\"top\"})})]})})})]}),widgetPrefs.setupGuideCoverage&&/*#__PURE__*/_jsxs(\"div\",{className:\"my-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Setup Guide Coverage\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border p-4 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:setupGuideCoverageData,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",innerRadius:60,outerRadius:100,fill:\"#8884d8\",label:_ref=>{let{name,value}=_ref;return`${name}: ${value}`;},children:setupGuideCoverageData.map((entry,idx)=>/*#__PURE__*/_jsx(Cell,{fill:idx===0?'#34d399':'#f87171'},`cell-${idx}`))}),/*#__PURE__*/_jsx(Tooltip,{})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex gap-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block w-3 h-3 rounded-full mr-2\",style:{background:'#34d399'}}),\"With Setup Guide\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-block w-3 h-3 rounded-full mr-2\",style:{background:'#f87171'}}),\"Without Setup Guide\"]})]})]})]}),widgetPrefs.recentTrends&&/*#__PURE__*/_jsxs(\"div\",{className:\"my-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Recent Trends (Last 8 Weeks)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border p-4\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:trendsData,margin:{top:20,right:30,left:0,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"week\",angle:-20,textAnchor:\"end\",interval:0,height:60}),/*#__PURE__*/_jsx(YAxis,{allowDecimals:false}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Products\",stroke:\"#2563eb\",strokeWidth:2}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Methods\",stroke:\"#f59e42\",strokeWidth:2}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Guides\",stroke:\"#34d399\",strokeWidth:2})]})})})]}),widgetPrefs.userRegistrations&&user&&user.role==='admin'&&/*#__PURE__*/_jsxs(\"div\",{className:\"my-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"User Registrations (Last 8 Weeks)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border p-4\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:userTrendsData,margin:{top:20,right:30,left:0,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"week\",angle:-20,textAnchor:\"end\",interval:0,height:60}),/*#__PURE__*/_jsx(YAxis,{allowDecimals:false}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Users\",stroke:\"#6366f1\",strokeWidth:2})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4\",children:quickActions.map(action=>/*#__PURE__*/_jsx(Link,{to:action.href,className:\"card hover:shadow-lg transition-shadow duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-gray-100 rounded-md p-3\",children:/*#__PURE__*/_jsx(action.icon,{className:\"h-6 w-6 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900\",children:action.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:action.description})]})]})},action.name))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Recent Activity\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:activityLoading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"Loading recent activity...\"}):activityError?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-red-500\",children:\"Failed to load recent activity\"}):activities.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No recent activity to display\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Start by adding vendors, products, or detection methods\"})]}):/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:activities.map((activity,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center justify-between py-4 px-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-800\",children:[activity.type,\":\"]}),' ',/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:activity.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:formatDate(activity.created_at)})]},idx))})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useQuery","Link","endpoints","BuildingOfficeIcon","CubeIcon","MagnifyingGlassIcon","DocumentTextIcon","PlusIcon","BarChart","Bar","XAxis","YAxis","Tooltip","ResponsiveContainer","CartesianGrid","LabelList","PieChart","Pie","Cell","LineChart","Line","Legend","useAuth","jsx","_jsx","jsxs","_jsxs","formatDate","dateString","date","Date","toLocaleString","WIDGETS","key","label","getInitialWidgetPrefs","saved","localStorage","getItem","JSON","parse","Object","fromEntries","map","w","Dashboard","_summary$data$vendors","_summary$data","_summary$data$product","_summary$data2","_summary$data$detecti","_summary$data3","_summary$data$setup_g","_summary$data4","user","data","summary","getDashboardSummary","refetchInterval","activityData","isLoading","activityLoading","error","activityError","getRecentActivity","then","res","activities","vendors","setVendors","products","setProducts","methods","setMethods","users","setUsers","guides","setGuides","fetchError","setFetchError","interval","fetchData","promises","getVendors","getProducts","getMethods","getSetupGuides","role","push","getUsers","catch","err","response","status","v","p","m","g","u","Promise","all","console","message","setInterval","clearInterval","productsPerVendor","vendor","name","count","filter","vendor_id","id","length","methodsPerProduct","product","product_id","productsWithGuides","some","guide","productsWithoutGuides","setupGuideCoverageData","value","getWeek","d","year","getFullYear","week","Math","ceil","getDay","now","weeks","Array","from","_","i","setDate","getDate","countByWeek","arr","dateKey","counts","forEach","item","productCounts","methodCounts","guideCounts","trendsData","Products","Methods","Guides","userCounts","userTrendsData","Users","stats","icon","href","color","detection_methods","setup_guides","quickActions","description","widgetPrefs","setWidgetPrefs","handleWidgetToggle","prev","updated","setItem","stringify","className","children","viewBox","fill","fillRule","clipRule","type","checked","onChange","stat","to","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","angle","textAnchor","allowDecimals","position","setupGuideCoverage","nameKey","cx","cy","innerRadius","outerRadius","_ref","entry","idx","style","background","recentTrends","stroke","strokeWidth","userRegistrations","action","activity","created_at"],"sources":["C:/Users/sakirm/Downloads/versionintel/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { endpoints } from '../services/api';\nimport {\n  BuildingOfficeIcon,\n  CubeIcon,\n  MagnifyingGlassIcon,\n  DocumentTextIcon,\n  PlusIcon,\n} from '@heroicons/react/24/outline';\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid, LabelList } from 'recharts';\nimport { PieChart, Pie, Cell, LineChart, Line, Legend } from 'recharts';\nimport { useAuth } from '../hooks/useAuth';\n\nfunction formatDate(dateString) {\n  if (!dateString) return '';\n  const date = new Date(dateString);\n  return date.toLocaleString();\n}\n\nconst WIDGETS = [\n  { key: 'productsPerVendor', label: 'Products per Vendor' },\n  { key: 'methodsPerProduct', label: 'Detection Methods per Product' },\n  { key: 'setupGuideCoverage', label: 'Setup Guide Coverage' },\n  { key: 'recentTrends', label: 'Recent Trends' },\n  { key: 'userRegistrations', label: 'User Registrations' },\n];\n\nfunction getInitialWidgetPrefs() {\n  const saved = localStorage.getItem('dashboardWidgets');\n  if (saved) return JSON.parse(saved);\n  return Object.fromEntries(WIDGETS.map(w => [w.key, true]));\n}\n\nexport default function Dashboard() {\n  const { user } = useAuth();\n  const { data: summary } = useQuery(\n    'dashboard-summary',\n    endpoints.getDashboardSummary,\n    { refetchInterval: 5000 }\n  );\n  const { data: activityData, isLoading: activityLoading, error: activityError } = useQuery('recent-activity', () => endpoints.getRecentActivity().then(res => res.data));\n  const activities = activityData?.activities || [];\n\n  // Fetch vendors and products for the chart\n  const [vendors, setVendors] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [methods, setMethods] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [guides, setGuides] = useState([]);\n  const [fetchError, setFetchError] = useState(null);\n\n  useEffect(() => {\n    let interval;\n    const fetchData = async () => {\n      try {\n        setFetchError(null);\n        const promises = [\n          endpoints.getVendors().then(res => res.data),\n          endpoints.getProducts().then(res => res.data),\n          endpoints.getMethods().then(res => res.data),\n          endpoints.getSetupGuides().then(res => res.data)\n        ];\n        // Only fetch users if admin\n        if (user && user.role === 'admin') {\n          promises.push(\n            endpoints.getUsers()\n              .then(res => res.data)\n              .catch(err => {\n                // If unauthorized, treat as empty users\n                if (err.response && (err.response.status === 401 || err.response.status === 403)) {\n                  return [];\n                }\n                throw err;\n              })\n          );\n        }\n        const [v, p, m, g, u] = await Promise.all(promises);\n        setVendors(v);\n        setProducts(p);\n        setMethods(m);\n        setGuides(g);\n        if (user && user.role === 'admin') {\n          setUsers(u);\n        } else {\n          setUsers([]);\n        }\n      } catch (error) {\n        console.error('Dashboard data fetch error:', error);\n        setFetchError(error.message || 'Failed to fetch dashboard data');\n      }\n    };\n    fetchData();\n    interval = setInterval(fetchData, 5000);\n    return () => clearInterval(interval);\n  }, [user]);\n\n  // Aggregate products per vendor\n  const productsPerVendor = vendors.map(vendor => ({\n    name: vendor.name,\n    count: products.filter(p => p.vendor_id === vendor.id).length\n  }));\n\n  // Aggregate detection methods per product\n  const methodsPerProduct = products.map(product => ({\n    name: product.name,\n    count: methods.filter(m => m.product_id === product.id).length\n  }));\n\n  // Setup Guide Coverage - Fixed to use guides data instead of assuming products have setup_guides\n  const productsWithGuides = products.filter(product => \n    guides.some(guide => guide.product_id === product.id)\n  ).length;\n  const productsWithoutGuides = products.length - productsWithGuides;\n  const setupGuideCoverageData = [\n    { name: 'With Setup Guide', value: productsWithGuides },\n    { name: 'Without Setup Guide', value: productsWithoutGuides },\n  ];\n\n  // Recent Trends: new products, methods, guides per week (last 8 weeks)\n  function getWeek(date) {\n    if (!date) return '';\n    const d = new Date(date);\n    const year = d.getFullYear();\n    const week = Math.ceil((((d - new Date(year,0,1)) / 86400000) + new Date(year,0,1).getDay()+1)/7);\n    return `${year}-W${week}`;\n  }\n  const now = new Date();\n  const weeks = Array.from({length: 8}, (_, i) => {\n    const d = new Date(now);\n    d.setDate(d.getDate() - (7 * (7-i)));\n    const year = d.getFullYear();\n    const week = Math.ceil((((d - new Date(year,0,1)) / 86400000) + new Date(year,0,1).getDay()+1)/7);\n    return `${year}-W${week}`;\n  });\n  function countByWeek(arr, dateKey) {\n    const counts = {};\n    arr.forEach(item => {\n      if (item && item[dateKey]) {\n        const week = getWeek(item[dateKey]);\n        if (week) {\n          counts[week] = (counts[week] || 0) + 1;\n        }\n      }\n    });\n    return counts;\n  }\n  const productCounts = countByWeek(products, 'created_at');\n  const methodCounts = countByWeek(methods, 'created_at');\n  const guideCounts = countByWeek(guides, 'created_at');\n  const trendsData = weeks.map(week => ({\n    week,\n    Products: productCounts[week] || 0,\n    Methods: methodCounts[week] || 0,\n    Guides: guideCounts[week] || 0,\n  }));\n\n  // User registrations per week\n  const userCounts = countByWeek(users, 'created_at');\n  const userTrendsData = weeks.map(week => ({\n    week,\n    Users: userCounts[week] || 0,\n  }));\n\n  const stats = [\n    {\n      name: 'Vendors',\n      value: summary?.data?.vendors ?? 0,\n      icon: BuildingOfficeIcon,\n      href: '/vendors',\n      color: 'bg-blue-500',\n    },\n    {\n      name: 'Products',\n      value: summary?.data?.products ?? 0,\n      icon: CubeIcon,\n      href: '/products',\n      color: 'bg-green-500',\n    },\n    {\n      name: 'Detection Methods',\n      value: summary?.data?.detection_methods ?? 0,\n      icon: MagnifyingGlassIcon,\n      href: '/methods',\n      color: 'bg-purple-500',\n    },\n    {\n      name: 'Setup Guides',\n      value: summary?.data?.setup_guides ?? 0,\n      icon: DocumentTextIcon,\n      href: '/setup-guides',\n      color: 'bg-orange-500',\n    },\n  ];\n\n  const quickActions = [\n    {\n      name: 'Add Vendor',\n      href: '/vendors',\n      icon: PlusIcon,\n      description: 'Create a new vendor',\n    },\n    {\n      name: 'Add Product',\n      href: '/products',\n      icon: PlusIcon,\n      description: 'Add a new product',\n    },\n    {\n      name: 'Add Detection Method',\n      href: '/methods',\n      icon: PlusIcon,\n      description: 'Create detection logic',\n    },\n    {\n      name: 'Search',\n      href: '/search',\n      icon: MagnifyingGlassIcon,\n      description: 'Search across all data',\n    },\n  ];\n\n  const [widgetPrefs, setWidgetPrefs] = useState(getInitialWidgetPrefs());\n  const handleWidgetToggle = (key) => {\n    setWidgetPrefs(prev => {\n      const updated = { ...prev, [key]: !prev[key] };\n      localStorage.setItem('dashboardWidgets', JSON.stringify(updated));\n      return updated;\n    });\n  };\n\n  // Show error message if there's a fetch error\n  if (fetchError) {\n    return (\n      <div className=\"p-4\">\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4 mb-4\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800\">\n                Dashboard Data Error\n              </h3>\n              <div className=\"mt-2 text-sm text-red-700\">\n                <p>{fetchError}</p>\n                <p className=\"mt-1\">The dashboard will retry automatically in 30 seconds.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Dashboard</h1>\n        <p className=\"text-gray-600\">Welcome to VersionIntel - Version Detection Research Platform</p>\n      </div>\n      {/* Widget Toggles */}\n      <div className=\"flex flex-wrap gap-4 my-4 items-center\">\n        <span className=\"font-semibold text-gray-700\">Show/Hide Widgets:</span>\n        {WIDGETS.map(w => (\n          <label key={w.key} className=\"flex items-center gap-1 text-sm\">\n            <input\n              type=\"checkbox\"\n              checked={widgetPrefs[w.key]}\n              onChange={() => handleWidgetToggle(w.key)}\n              className=\"accent-blue-600\"\n            />\n            {w.label}\n          </label>\n        ))}\n      </div>\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\">\n        {stats.map((stat) => (\n          <Link\n            key={stat.name}\n            to={stat.href}\n            className=\"card hover:shadow-lg transition-shadow duration-200\"\n          >\n            <div className=\"flex items-center\">\n              <div className={`flex-shrink-0 ${stat.color} rounded-md p-3`}>\n                <stat.icon className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"ml-5 w-0 flex-1\">\n                <dl>\n                  <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                    {stat.name}\n                  </dt>\n                  <dd className=\"text-lg font-medium text-gray-900\">\n                    {stat.value}\n                  </dd>\n                </dl>\n              </div>\n            </div>\n          </Link>\n        ))}\n      </div>\n      {/* Products per Vendor Chart */}\n      {widgetPrefs.productsPerVendor && (\n        <div className=\"my-8\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Products per Vendor</h2>\n          <div className=\"bg-white rounded-lg border p-4\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={productsPerVendor} margin={{ top: 20, right: 30, left: 0, bottom: 5 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"name\" angle={-20} textAnchor=\"end\" interval={0} height={60} />\n                <YAxis allowDecimals={false} />\n                <Tooltip />\n                <Bar dataKey=\"count\" fill=\"#2563eb\">\n                  <LabelList dataKey=\"count\" position=\"top\" />\n                </Bar>\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      )}\n      {/* Detection Methods per Product Chart */}\n      {widgetPrefs.methodsPerProduct && (\n        <div className=\"my-8\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Detection Methods per Product</h2>\n          <div className=\"bg-white rounded-lg border p-4\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={methodsPerProduct} margin={{ top: 20, right: 30, left: 0, bottom: 5 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"name\" angle={-20} textAnchor=\"end\" interval={0} height={60} />\n                <YAxis allowDecimals={false} />\n                <Tooltip />\n                <Bar dataKey=\"count\" fill=\"#f59e42\">\n                  <LabelList dataKey=\"count\" position=\"top\" />\n                </Bar>\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      )}\n      {/* Setup Guide Coverage Donut Chart */}\n      {widgetPrefs.setupGuideCoverage && (\n        <div className=\"my-8\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Setup Guide Coverage</h2>\n          <div className=\"bg-white rounded-lg border p-4 flex flex-col items-center\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <PieChart>\n                <Pie\n                  data={setupGuideCoverageData}\n                  dataKey=\"value\"\n                  nameKey=\"name\"\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  innerRadius={60}\n                  outerRadius={100}\n                  fill=\"#8884d8\"\n                  label={({ name, value }) => `${name}: ${value}`}\n                >\n                  {/* Custom colors */}\n                  {setupGuideCoverageData.map((entry, idx) => (\n                    <Cell key={`cell-${idx}`} fill={idx === 0 ? '#34d399' : '#f87171'} />\n                  ))}\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n            <div className=\"mt-4 flex gap-4\">\n              <span className=\"flex items-center\"><span className=\"inline-block w-3 h-3 rounded-full mr-2\" style={{background:'#34d399'}}></span>With Setup Guide</span>\n              <span className=\"flex items-center\"><span className=\"inline-block w-3 h-3 rounded-full mr-2\" style={{background:'#f87171'}}></span>Without Setup Guide</span>\n            </div>\n          </div>\n        </div>\n      )}\n      {/* Recent Trends Line Chart */}\n      {widgetPrefs.recentTrends && (\n        <div className=\"my-8\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Recent Trends (Last 8 Weeks)</h2>\n          <div className=\"bg-white rounded-lg border p-4\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <LineChart data={trendsData} margin={{ top: 20, right: 30, left: 0, bottom: 5 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"week\" angle={-20} textAnchor=\"end\" interval={0} height={60} />\n                <YAxis allowDecimals={false} />\n                <Tooltip />\n                <Legend />\n                <Line type=\"monotone\" dataKey=\"Products\" stroke=\"#2563eb\" strokeWidth={2} />\n                <Line type=\"monotone\" dataKey=\"Methods\" stroke=\"#f59e42\" strokeWidth={2} />\n                <Line type=\"monotone\" dataKey=\"Guides\" stroke=\"#34d399\" strokeWidth={2} />\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      )}\n      {/* User Registrations Line Chart */}\n      {widgetPrefs.userRegistrations && user && user.role === 'admin' && (\n        <div className=\"my-8\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">User Registrations (Last 8 Weeks)</h2>\n          <div className=\"bg-white rounded-lg border p-4\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <LineChart data={userTrendsData} margin={{ top: 20, right: 30, left: 0, bottom: 5 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"week\" angle={-20} textAnchor=\"end\" interval={0} height={60} />\n                <YAxis allowDecimals={false} />\n                <Tooltip />\n                <Legend />\n                <Line type=\"monotone\" dataKey=\"Users\" stroke=\"#6366f1\" strokeWidth={2} />\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      )}\n\n      {/* Quick Actions */}\n      <div>\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Quick Actions</h2>\n        <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n          {quickActions.map((action) => (\n            <Link\n              key={action.name}\n              to={action.href}\n              className=\"card hover:shadow-lg transition-shadow duration-200\"\n            >\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-gray-100 rounded-md p-3\">\n                  <action.icon className=\"h-6 w-6 text-gray-600\" />\n                </div>\n                <div className=\"ml-4\">\n                  <h3 className=\"text-sm font-medium text-gray-900\">\n                    {action.name}\n                  </h3>\n                  <p className=\"text-sm text-gray-500\">{action.description}</p>\n                </div>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </div>\n\n      {/* Recent Activity */}\n      <div>\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Recent Activity</h2>\n        <div className=\"card\">\n          {activityLoading ? (\n            <div className=\"text-center py-8 text-gray-500\">Loading recent activity...</div>\n          ) : activityError ? (\n            <div className=\"text-center py-8 text-red-500\">Failed to load recent activity</div>\n          ) : activities.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500\">No recent activity to display</p>\n              <p className=\"text-sm text-gray-400 mt-2\">\n                Start by adding vendors, products, or detection methods\n              </p>\n            </div>\n          ) : (\n            <ul className=\"divide-y divide-gray-200\">\n              {activities.map((activity, idx) => (\n                <li key={idx} className=\"flex items-center justify-between py-4 px-6\">\n                  <div>\n                    <span className=\"font-medium text-gray-800\">{activity.type}:</span>{' '}\n                    <span className=\"text-gray-700\">{activity.name}</span>\n                  </div>\n                  <div className=\"text-sm text-gray-500\">{formatDate(activity.created_at)}</div>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}